(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={contact:"Contact_contact__1m2re",name:"Contact_name__2ZcKm",number:"Contact_number__2MvnN",button:"Contact_button__1wUL0"}},18:function(t,e,n){t.exports={filter:"Filter_filter__1E5tH",label:"Filter_label__3DcZT",input:"Filter_input__2DoVp"}},21:function(t,e,n){t.exports={title:"Section_title__2S6oE",section:"Section_section__Ap5Zy"}},22:function(t,e,n){t.exports={contacts:"ContactList_contacts__1Ny0J",contact:"ContactList_contact__3ZIyH"}},48:function(t,e,n){},7:function(t,e,n){t.exports={form:"Form_form__2TM1N",label:"Form_label__15SAE",input:"Form_input__2ESfd",button:"Form_button__243jh"}},77:function(t,e,n){"use strict";n.r(e);var c,a,r=n(0),o=n.n(r),s=n(15),i=n.n(s),u=n(5),b=n(17),l=n(2),j=n(33),d=n.n(j),f=n(8),O=n(4),m=n(3),h=Object(l.b)("contacts/fetchContactsRequest"),p=Object(l.b)("contacts/fetchContactsSuccess"),_=Object(l.b)("contacts/fetchContactsError"),x=Object(l.b)("contacts/onSubmitHandlerRequest"),v=Object(l.b)("contacts/onSubmitHandlerSuccess"),C=Object(l.b)("contacts/onSubmitHandlerError"),N=Object(l.b)("contacts/deleteContactRequest"),y=Object(l.b)("contacts/deleteContactSuccess"),g=Object(l.b)("contacts/deleteContactError"),S=Object(l.b)("contacts/changeFilter"),w=Object(l.c)([],(c={},Object(O.a)(c,p,(function(t,e){return e.payload})),Object(O.a)(c,v,(function(t,e){var n=e.payload;return[].concat(Object(b.a)(t),[n])})),Object(O.a)(c,y,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),E=Object(l.c)("",Object(O.a)({},S,(function(t,e){return e.payload}))),F=Object(l.c)(!1,(a={},Object(O.a)(a,h,(function(){return!0})),Object(O.a)(a,p,(function(){return!1})),Object(O.a)(a,_,(function(){return!1})),Object(O.a)(a,x,(function(){return!0})),Object(O.a)(a,v,(function(){return!1})),Object(O.a)(a,C,(function(){return!1})),Object(O.a)(a,N,(function(){return!0})),Object(O.a)(a,y,(function(){return!1})),Object(O.a)(a,g,(function(){return!1})),a)),L=Object(m.b)({items:w,filter:E,loading:F}),A=[].concat(Object(b.a)(Object(l.d)({serializableCheck:{ignoredActions:[f.a,f.f,f.b,f.c,f.d,f.e]}})),[d.a]),k=Object(l.a)({reducer:{contacts:L},middleware:A,devTools:!1}),Z=(n(47),n(48),n(35)),T=(n(49),function(t){return t.contacts.loading}),q=function(t){return t.contacts.filter},z=function(t){return t.contacts.items},H=function(t){var e=z(t),n=q(t).toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)||t.number.includes(n)}))},D=n(10),J=n.n(D);J.a.defaults.baseURL="http://localhost:4040";var M=n(21),R=n.n(M),P=n(1);function B(t){var e=t.title,n=t.children;return Object(P.jsxs)("section",{className:R.a.section,children:[e&&Object(P.jsx)("h2",{className:R.a.title,children:e}),n]})}B.defaultProps={title:""};var I=n(23),U=n(34),K=n.n(U),V=n(7),$=n.n(V),G=function(){var t=Object(r.useState)(""),e=Object(I.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(""),o=Object(I.a)(a,2),s=o[0],i=o[1],b=Object(u.c)(z),l=Object(u.b)(),j=function(t){var e=t.currentTarget,n=e.name,a=e.value;"name"===n&&c(a),"number"===n&&i(a)};return Object(P.jsxs)("form",{className:$.a.form,onSubmit:function(t){t.preventDefault();var e,a=b.find((function(t){return t.name.toLowerCase()===n.toLowerCase()})),r=b.find((function(t){return t.number.toLowerCase()===s.toLowerCase()}));a||r?alert("".concat(a?n:""," ").concat(r?s:""," is already in contacts")):l((e={id:K.a.generate(),name:n,number:s},function(t){t(x()),J.a.post("/contacts",e).then((function(e){var n=e.data;return t(v(n))})).catch((function(e){return t(C(e))}))})),c(""),i("")},children:[Object(P.jsxs)("label",{className:$.a.label,children:["Name",Object(P.jsx)("input",{className:$.a.input,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"The name can only consist of letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan, etc.",required:!0,placeholder:"Enter name",value:n,onChange:j})]}),Object(P.jsxs)("label",{className:$.a.label,children:["Number",Object(P.jsx)("input",{className:$.a.input,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"Enter number",value:s,onChange:j})]}),Object(P.jsx)("button",{type:"submit",className:$.a.button,children:"Add contact"})]})},Q=n(18),W=n.n(Q),X=function(){var t=Object(u.c)(q),e=Object(u.b)();return Object(P.jsx)("p",{className:W.a.filter,children:Object(P.jsxs)("label",{className:W.a.label,children:["Find contacts",Object(P.jsx)("input",{className:W.a.input,type:"text",placeholder:"Enter name or number",value:t,onChange:function(t){return e(S(t.currentTarget.value))}})]})})},Y=n(11),tt=n.n(Y),et=function(t){var e=t.data,n=e.name,c=e.number,a=e.id,r=Object(u.b)(),o=function(t){return r(function(t){return function(e){e(N()),J.a.delete("/contacts/".concat(t)).then((function(){return e(y(t))})).catch((function(t){return e(g(t))}))}}(t))};return Object(P.jsxs)("div",{className:tt.a.contact,children:[Object(P.jsxs)("span",{className:tt.a.name,children:[n,":"]}),Object(P.jsx)("a",{className:tt.a.number,href:"tel:".concat(c),children:c}),Object(P.jsx)("button",{className:tt.a.button,type:"button",onClick:function(){return o(a)},children:"Delete"})]})},nt=n(22),ct=n.n(nt),at=function(){var t=Object(u.c)(H);return Object(P.jsx)("div",{className:ct.a.contacts,children:Object(P.jsx)("ul",{children:t.map((function(t){return Object(P.jsx)("li",{className:ct.a.contact,children:Object(P.jsx)(et,{data:t})},t.id)}))})})},rt=function(){var t=Object(u.b)(),e=Object(u.c)(T);return Object(r.useEffect)((function(){t((function(t){t(h()),J.a.get("/contacts").then((function(e){var n=e.data;return t(p(n))})).catch((function(e){return t(_(e))}))}))}),[t]),Object(P.jsxs)("div",{children:[Object(P.jsx)(B,{title:"Phonebook",children:Object(P.jsx)(G,{})}),Object(P.jsxs)(B,{title:"Contacts",children:[Object(P.jsx)(X,{}),Object(P.jsx)(at,{}),e&&Object(P.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(P.jsx)(Z.a,{color:"#7dcdff"})})]})]})};i.a.render(Object(P.jsx)(o.a.StrictMode,{children:Object(P.jsx)(u.a,{store:k,children:Object(P.jsx)(rt,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.0a1ffb74.chunk.js.map